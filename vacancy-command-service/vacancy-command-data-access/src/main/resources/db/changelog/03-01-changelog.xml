<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.22.xsd"
        objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    <changeSet id="1693733877590-1" author="Vugar Mammadli">
        <createTable schemaName="vacancy" tableName="applied_users">
            <column name="uuid" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_applied_users"/>
            </column>
            <column name="version" type="BIGINT"/>
            <column name="process_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="row_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="modification_date" type="DATETIME"/>
            <column name="vacancy_uuid" type="UUID"/>
            <column name="job_seeker_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="applied_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1693733877590-2" author="Vugar Mammadli">
        <createTable schemaName="vacancy" tableName="locations">
            <column name="uuid" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_locations"/>
            </column>
            <column name="version" type="BIGINT"/>
            <column name="process_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="row_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="modification_date" type="DATETIME"/>
            <column name="vacancy_uuid" type="UUID"/>
            <column name="country_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="city_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1693733877590-3" author="Vugar Mammadli">
        <createTable schemaName="vacancy" tableName="marks">
            <column name="uuid" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_marks"/>
            </column>
            <column name="version" type="BIGINT"/>
            <column name="process_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="row_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="modification_date" type="DATETIME"/>
            <column name="vacancy_uuid" type="UUID"/>
            <column name="user_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1693733877590-4" author="Vugar Mammadli">
        <createTable schemaName="vacancy" tableName="salaries">
            <column name="uuid" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_salaries"/>
            </column>
            <column name="version" type="BIGINT"/>
            <column name="process_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="row_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="modification_date" type="DATETIME"/>
            <column name="vacancy_uuid" type="UUID"/>
            <column name="has_salary" type="BOOLEAN"/>
            <column name="currency" type="INT"/>
            <column name="start_amount" type="DECIMAL"/>
            <column name="end_amount" type="DECIMAL"/>
            <column name="is_estimated" type="BOOLEAN"/>
            <column name="paying_type" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1693733877590-5" author="Vugar Mammadli">
        <createTable schemaName="vacancy" tableName="tags">
            <column name="uuid" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_tags"/>
            </column>
            <column name="version" type="BIGINT"/>
            <column name="process_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="row_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="modification_date" type="DATETIME"/>
            <column name="vacancy_uuid" type="UUID"/>
            <column name="tag" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1693733877590-6" author="Vugar Mammadli">
        <createTable schemaName="vacancy" tableName="vacancies">
            <column name="uuid" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_vacancies"/>
            </column>
            <column name="version" type="BIGINT"/>
            <column name="process_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="row_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="modification_date" type="DATETIME"/>
            <column name="company_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="vacancy_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="planning_date" type="DATETIME"/>
            <column name="title" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="about" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="requeriments" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="start_date" type="DATETIME"/>
            <column name="end_date" type="DATETIME"/>
            <column name="working_time_line" type="VARCHAR(255)"/>
            <column name="working_type" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1693733877590-7" author="Vugar Mammadli">
        <createTable schemaName="vacancy" tableName="vacancy_settings">
            <column name="uuid" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_vacancy_settings"/>
            </column>
            <column name="version" type="BIGINT"/>
            <column name="process_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="row_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="modification_date" type="DATETIME"/>
            <column name="vacancy_uuid" type="UUID"/>
            <column name="enable_push_notification" type="BOOLEAN"/>
            <column name="enable_email_notification" type="BOOLEAN"/>
            <column name="only_one_apply_for_candidate" type="BOOLEAN"/>
            <column name="change_vacancy_push_notify" type="BOOLEAN"/>
        </createTable>
    </changeSet>
    <changeSet id="1693733877590-8" author="Vugar Mammadli">
        <createTable schemaName="vacancy" tableName="viewers">
            <column name="uuid" type="UUID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_viewers"/>
            </column>
            <column name="version" type="BIGINT"/>
            <column name="process_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="row_status" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="modification_date" type="DATETIME"/>
            <column name="vacancy_uuid" type="UUID"/>
            <column name="user_id" type="UUID">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1693733877590-9" author="Vugar Mammadli">
        <addForeignKeyConstraint baseColumnNames="vacancy_uuid" baseTableName="applied_users"
                                 baseTableSchemaName="vacancy" constraintName="FK_APPLIED_USERS_ON_VACANCY_UUID"
                                 referencedColumnNames="uuid" referencedTableName="vacancies"
                                 referencedTableSchemaName="vacancy"/>
    </changeSet>
    <changeSet id="1693733877590-10" author="Vugar Mammadli">
        <addForeignKeyConstraint baseColumnNames="vacancy_uuid" baseTableName="locations" baseTableSchemaName="vacancy"
                                 constraintName="FK_LOCATIONS_ON_VACANCY_UUID" referencedColumnNames="uuid"
                                 referencedTableName="vacancies" referencedTableSchemaName="vacancy"/>
    </changeSet>
    <changeSet id="1693733877590-11" author="Vugar Mammadli">
        <addForeignKeyConstraint baseColumnNames="vacancy_uuid" baseTableName="marks" baseTableSchemaName="vacancy"
                                 constraintName="FK_MARKS_ON_VACANCY_UUID" referencedColumnNames="uuid"
                                 referencedTableName="vacancies" referencedTableSchemaName="vacancy"/>
    </changeSet>
    <changeSet id="1693733877590-12" author="Vugar Mammadli">
        <addForeignKeyConstraint baseColumnNames="vacancy_uuid" baseTableName="salaries" baseTableSchemaName="vacancy"
                                 constraintName="FK_SALARIES_ON_VACANCY_UUID" referencedColumnNames="uuid"
                                 referencedTableName="vacancies" referencedTableSchemaName="vacancy"/>
    </changeSet>
    <changeSet id="1693733877590-13" author="Vugar Mammadli">
        <addForeignKeyConstraint baseColumnNames="vacancy_uuid" baseTableName="tags" baseTableSchemaName="vacancy"
                                 constraintName="FK_TAGS_ON_VACANCY_UUID" referencedColumnNames="uuid"
                                 referencedTableName="vacancies" referencedTableSchemaName="vacancy"/>
    </changeSet>
    <changeSet id="1693733877590-14" author="Vugar Mammadli">
        <addForeignKeyConstraint baseColumnNames="vacancy_uuid" baseTableName="vacancy_settings"
                                 baseTableSchemaName="vacancy" constraintName="FK_VACANCY_SETTINGS_ON_VACANCY_UUID"
                                 referencedColumnNames="uuid" referencedTableName="vacancies"
                                 referencedTableSchemaName="vacancy"/>
    </changeSet>
    <changeSet id="1693733877590-15" author="Vugar Mammadli">
        <addForeignKeyConstraint baseColumnNames="vacancy_uuid" baseTableName="viewers" baseTableSchemaName="vacancy"
                                 constraintName="FK_VIEWERS_ON_VACANCY_UUID" referencedColumnNames="uuid"
                                 referencedTableName="vacancies" referencedTableSchemaName="vacancy"/>
    </changeSet>

</databaseChangeLog>